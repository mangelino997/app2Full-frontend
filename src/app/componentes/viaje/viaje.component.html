<div id="viaje" class="container-fluid" (window:keydown)="manejarEvento($event.keyCode)">
    <div class="row">
        <div class="col" class="centrar">
            <nav mat-tab-nav-bar>
                <a mat-tab-link disabled>GUIA DE SERVICIO</a>
                <a mat-tab-link *ngFor="let pestania of pestanias" [active]="activeLink == pestania.nombre" (click)="seleccionarPestania(pestania.id, pestania.nombre, 0)">{{pestania.nombre}}</a>
            </nav>
        </div>
    </div>
    <div *ngIf="indiceSeleccionado < 5">
        <mat-sidenav-container>
            <mat-sidenav #sidenav mode="side" opened class="sidenav" [fixedInViewport]="true" [fixedTopGap]="165"
                [fixedBottomGap]="0">
                <div class="container-fluid-custom">
                    <div class="row contenedor" *ngFor="let listaOp of opciones; let idx = index">
                        <div class="col">
                            <button [ngClass]="{true:'activar-boton-subopcion'}[botonOpcionActivo === idx]" type="button"
                                class="btn btn-outline-primary btn-block btn-sm" (click)="seleccionarOpcion(listaOp.id, idx)">
                                {{listaOp.nombre}}</button>
                        </div>
                    </div>
                </div>
            </mat-sidenav>
            <mat-sidenav-content class="sidenav-content">
                <div class="container-fluid">
                    <div class="row contenedor">
                        <div class="col">
                            <!-- <div class="row justify-content-center">
                                <h5>{{pestaniaActual}} Cliente</h5>
                            </div> -->
                            <div class="contenedor-top-titulo">
                                <form [formGroup]="formularioViajePropio">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group has-float-label" *ngIf="mostrarAutocompletado">
                                                <label for="idAutocompletado" class="tamanio-label">Buscar Guía de
                                                    Servicio</label>
                                                <input id="idAutocompletado" class="form-control form-control-sm color-busqueda"
                                                    autocomplete="off" type="text" matInput [formControl]="autocompletado"
                                                    [matAutocomplete]="auto">
                                                <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayF.bind(this)">
                                                    <mat-option *ngFor="let item of resultados" [value]="item"
                                                        (onSelectionChange)="formulario.setValue(item)">
                                                        {{item.alias}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <!-- <div class="col-md-1">
                                            <button mat-mini-fab color="primary" (click)="sidenav.toggle()">
                                                <mat-icon>menu</mat-icon>
                                            </button>
                                        </div> -->
                                        <div class="col-md-2">
                                            <div class="form-group has-float-label">
                                                <label for="idCodigo" class="tamanio-label-titulo">N° Guía Serv.</label>
                                                <input id="idCodigo" type="number" formControlName="id" class="form-control form-control-sm"
                                                    readonly>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group has-float-label">
                                                <label for="idFecha" class="tamanio-label-titulo">Fecha</label>
                                                <input id="idFecha" type="date" formControlName="fecha" autocomplete="off"
                                                    class="form-control form-control-sm" [readonly]="soloLectura">
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group has-float-label">
                                                <label for="idEsPropio" class="tamanio-label-titulo">Tipo de Viaje *</label>
                                                <mat-select id="idEsPropio" class="form-control form-control-sm"
                                                    [formControl]="tipoViaje">
                                                    <mat-option [value]="false">Tercerizado</mat-option>
                                                    <mat-option [value]="true">Propio</mat-option>
                                                </mat-select>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group has-float-label">
                                                <label for="idEsRemolquePropio" class="tamanio-label-titulo">Tipo de
                                                    Remol. *</label>
                                                <mat-select id="idEsRemolquePropio" class="form-control form-control-sm"
                                                    formControlName="esRemolquePropio">
                                                    <mat-option [value]="false">Tercerizado</mat-option>
                                                    <mat-option [value]="true">Propio</mat-option>
                                                </mat-select>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group has-float-label">
                                                <label for="idSucursal" class="tamanio-label-titulo">Sucursal *</label>
                                                <mat-select id="idSucursal" class="form-control form-control-sm"
                                                    formControlName="sucursal" [compareWith]="compareFn">
                                                    <mat-option *ngFor="let itemSucursal of sucursales" [value]="itemSucursal">
                                                        {{itemSucursal.nombre}}
                                                    </mat-option>
                                                </mat-select>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group has-float-label">
                                                <label for="idUsuario" class="tamanio-label-titulo">Usuario</label>
                                                <input id="idUsuario" type="text" class="form-control form-control-sm"
                                                    readonly [formControl]="usuarioNombre">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group has-float-label">
                                                <label for="idVehiculo" class="tamanio-label-titulo">Vehículo *</label>
                                                <input id="idVehiculo" class="form-control form-control-sm" type="text"
                                                    matInput [formControl]="tipoViaje.value ? formularioViajePropio.get('vehiculo') : formularioViajePropio.get('vehiculoProveedor')"
                                                    [matAutocomplete]="autoVehiculo" autocomplete="off" [readonly]="soloLectura">
                                                <mat-autocomplete #autoVehiculo="matAutocomplete" [displayWith]="displayFa.bind(this)">
                                                    <mat-option *ngFor="let itemVehiculo of resultadosVehiculos"
                                                        [value]="itemVehiculo">
                                                        {{itemVehiculo.dominio}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group has-float-label">
                                                <label for="idVehiculoRemolque" class="tamanio-label-titulo">Vehículo
                                                    Remolque *</label>
                                                <input id="idVehiculoRemolque" class="form-control form-control-sm"
                                                    type="text" matInput [formControl]="formularioViajePropio.get('esRemolquePropio').value ? formularioViajePropio.get('vehiculoRemolque') : formularioViajePropio.get('vehiculoProveedorRemolque')"
                                                    [matAutocomplete]="autoVehiculoRemolque" autocomplete="off"
                                                    [readonly]="soloLectura">
                                                <mat-autocomplete #autoVehiculoRemolque="matAutocomplete" [displayWith]="displayFa.bind(this)">
                                                    <mat-option *ngFor="let itemVehiculoRemolque of resultadosVehiculosRemolques"
                                                        [value]="itemVehiculoRemolque">
                                                        {{itemVehiculoRemolque.dominio}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group has-float-label">
                                                <label for="idPersonal" class="tamanio-label-titulo">Chofer *</label>
                                                <input id="idPersonal" class="form-control form-control-sm" type="text"
                                                    matInput [formControl]="tipoViaje.value ? formularioViajePropio.get('personal') : formularioViajePropio.get('choferProveedor')"
                                                    [matAutocomplete]="autoChofer" autocomplete="off" [readonly]="soloLectura">
                                                <mat-autocomplete #autoChofer="matAutocomplete" [displayWith]="displayF.bind(this)">
                                                    <mat-option *ngFor="let itemChofer of resultadosChoferes" [value]="itemChofer">
                                                        {{itemChofer.alias}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <mat-divider></mat-divider>
                            <div class="contenedor-top" *ngIf="opcionSeleccionada == 22">
                                <app-viaje-tramo (dataEvent)="recibirTramos($event)"></app-viaje-tramo>
                            </div>
                            <div class="contenedor-top" *ngIf="opcionSeleccionada == 23">
                                <app-viaje-combustible (dataEvent)="recibirCombustibles($event)"></app-viaje-combustible>
                            </div>
                            <div class="contenedor-top" *ngIf="opcionSeleccionada == 24">
                                <form [formGroup]="formularioViajePropioEfectivo">
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group has-float-label-icon">
                                                <label for="idFechaCajaAE" class="tamanio-label">Fecha Caja</label>
                                                <div class="input-group input-group-sm mb-3">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="idSigno">
                                                            <mat-icon>date_range</mat-icon>
                                                        </span>
                                                    </div>
                                                    <input id="idFechaCajaAE" type="date" formControlName="fechaCaja"
                                                        autocomplete="off" class="form-control form-control-sm"
                                                        [readonly]="soloLectura" aria-describedby="idSigno">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group has-float-label-icon">
                                                <label for="idEmpresaAE" class="tamanio-label">Caja Viajes *</label>
                                                <div class="input-group input-group-sm mb-3">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="idSigno">
                                                            <mat-icon>business</mat-icon>
                                                        </span>
                                                    </div>
                                                    <mat-select id="idEmpresaAE" class="form-control form-control-sm"
                                                        formControlName="empresa" [compareWith]="compareFn">
                                                        <mat-option *ngFor="let itemEmpresa of empresas" [value]="itemEmpresa">
                                                            {{itemEmpresa.razonSocial}}
                                                        </mat-option>
                                                    </mat-select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group has-float-label-icon">
                                                <label for="idImporteAE" class="tamanio-label">Importe*</label>
                                                <div class="input-group input-group-sm mb-3">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">$</span>
                                                    </div>
                                                    <input id="idImporteAE" type="number" formControlName="importe"
                                                        autocomplete="off" class="form-control form-control-sm"
                                                        [readonly]="soloLectura" (blur)="establecerCeros(formularioViajePropioEfectivo.get('importe'))">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-7">
                                            <div class="form-group has-float-label">
                                                <label for="idObservaciones" class="tamanio-label">Observaciones</label>
                                                <textarea id="idObservaciones" class="form-control form-control-sm"
                                                    formControlName="observaciones" rows="2" [readonly]="soloLectura"></textarea>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <button mat-raised-button color="primary" (click)="agregarAdelantoEfectivo()">Agregar
                                                Adelanto</button>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12" style="height: 200px; overflow-y: scroll;">
                                            <table class="table table-bordered table-striped table-sm table-condensed tabla-viaje-efectivo">
                                                <thead>
                                                    <tr>
                                                        <th class="text-center" style="width:10%" scope="col">Sucursal</th>
                                                        <th class="text-center" style="width:5%" scope="col">Adelanto</th>
                                                        <th class="text-center" style="width:10%" scope="col">Usuario</th>
                                                        <th class="text-center" style="width:20%" scope="col">Empresa</th>
                                                        <th class="text-center" style="width:7%" scope="col">Fecha</th>
                                                        <th class="text-center" style="width:10%" scope="col">Importe($)</th>
                                                        <th class="text-center" style="width:10%" scope="col">Observaciones</th>
                                                        <th class="text-center" style="width:8%" scope="col">Anulado</th>
                                                        <th class="text-center" style="width:15%" scope="col">Observaciones
                                                            Anulado</th>
                                                        <th class="text-center" style="width:5%" scope="col">-</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let l of listaAdelantosEfectivos; let i = index">
                                                        <td align="center">
                                                            <span>{{l.sucursal.nombre}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{i+1}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.usuario.nombre}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.empresa.razonSocial}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.fechaCaja | date: 'dd/MM/yyyy'}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.importe}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span class="cursor-color" (click)="verObservacionesDialogo(l.observaciones)">ver</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.anulado}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span class="cursor-color" (click)="verObservacionesDialogo(l.observacionesAnulado)">ver</span>
                                                        </td>
                                                        <td align="center">
                                                            <span class="cursor-color-rojo" (click)="eliminarAdelantoEfectivo(i, l)">X</span>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <br>
                                    <div class="row justify-content-end">
                                        <div class="col-md-2">
                                            <div class="form-group has-float-label-icon">
                                                <label for="idImporteAE" class="tamanio-label">Importe Total *</label>
                                                <div class="input-group input-group-sm mb-3">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">$</span>
                                                    </div>
                                                    <input id="idImporteAE" type="number" formControlName="importeTotal"
                                                        autocomplete="off" class="form-control form-control-sm"
                                                        [readonly]="true">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="contenedor-top" *ngIf="opcionSeleccionada == 25">
                                <form [formGroup]="formularioViajePropioInsumo">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group has-float-label">
                                                <label for="idProveedor" class="tamanio-label">Proveedor *</label>
                                                <input id="idProveedor" class="form-control form-control-sm" type="text"
                                                    matInput [formControl]="formularioViajePropioInsumo.get('proveedor')"
                                                    [matAutocomplete]="autoProveedor" autocomplete="off" [readonly]="soloLectura">
                                                <mat-autocomplete #autoProveedor="matAutocomplete" [displayWith]="displayF.bind(this)">
                                                    <mat-option *ngFor="let itemProveedor of resultadosProveedores"
                                                        [value]="itemProveedor">
                                                        {{itemProveedor.alias}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>
                                        </div>
                                        <div class="col-md-2"></div>
                                        <div class="col-md-4">
                                            <button class="btn btn-primary" type="button">Consultar Ultimas Cargas</button>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group has-float-label-icon">
                                                <label for="idFecha" class="tamanio-label">Fecha</label>
                                                <div class="input-group input-group-sm mb-3">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <mat-icon>date_range</mat-icon>
                                                        </span>
                                                    </div>
                                                    <input id="idFecha" type="date" formControlName="fecha"
                                                        autocomplete="off" class="form-control form-control-sm"
                                                        [readonly]="soloLectura">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group has-float-label">
                                                <label for="idInsumo" class="tamanio-label">Insumo *</label>
                                                <mat-select id="idInsumo" class="form-control form-control-sm"
                                                    formControlName="insumo" [compareWith]="compareFn"
                                                    (selectionChange)="establecerPrecioUnitario(formularioViajePropioInsumo, 'insumo')">
                                                    <mat-option *ngFor="let itemInsumo of insumos" [value]="itemInsumo">
                                                        {{itemInsumo.nombre}}
                                                    </mat-option>
                                                </mat-select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group has-float-label">
                                                <label for="idCantidadAV" class="tamanio-label">Cantidad *</label>
                                                <input id="idCantidadAV" type="number" formControlName="cantidad"
                                                    autocomplete="off" class="form-control form-control-sm" [readonly]="soloLectura"
                                                    (blur)="calcularImporte(formularioViajePropioInsumo)">
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group has-float-label-icon">
                                                <label for="idPrecioUnitarioAV" class="tamanio-label">Precio Unitario *</label>
                                                <div class="input-group input-group-sm mb-3">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">$</span>
                                                    </div>
                                                    <input id="idPrecioUnitarioAV" type="number" formControlName="precioUnitario"
                                                        autocomplete="off" class="form-control form-control-sm"
                                                        [readonly]="true">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group has-float-label-icon">
                                                <label for="idImporteAV" class="tamanio-label">Importe *</label>
                                                <div class="input-group input-group-sm mb-3">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">$</span>
                                                    </div>
                                                    <input id="idImporteAV" type="number" formControlName="importe"
                                                        autocomplete="off" class="form-control form-control-sm"
                                                        [readonly]="true">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group has-float-label">
                                                <label for="idObservaciones" class="tamanio-label">Observaciones</label>
                                                <textarea id="idObservaciones" class="form-control form-control-sm"
                                                    formControlName="observaciones" rows="2" [readonly]="soloLectura"></textarea>
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                            <button mat-raised-button color="primary" (click)="agregarOrdenInsumo()">Agregar
                                                Orden</button>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12" style="height: 200px; overflow-y: scroll;">
                                            <table class="table table-bordered table-striped table-sm table-condensed tabla-viaje-efectivo">
                                                <thead>
                                                    <tr>
                                                        <th class="text-center" style="width:10%" scope="col">Sucursal</th>
                                                        <th class="text-center" style="width:5%" scope="col">Orden</th>
                                                        <th class="text-center" style="width:10%" scope="col">Usuario</th>
                                                        <th class="text-center" style="width:10%" scope="col">Proveedor</th>
                                                        <th class="text-center" style="width:10%" scope="col">Insumo</th>
                                                        <th class="text-center" style="width:5%" scope="col">Cantidad</th>
                                                        <th class="text-center" style="width:10%" scope="col">Precio
                                                            Unitario</th>
                                                        <th class="text-center" style="width:5%" scope="col">Importe</th>
                                                        <th class="text-center" style="width:10%" scope="col">Observaciones</th>
                                                        <th class="text-center" style="width:5%" scope="col">Anulado</th>
                                                        <th class="text-center" style="width:15%" scope="col">Observaciones
                                                            Anulado</th>
                                                        <th class="text-center" style="width:5%" scope="col">-</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let l of listaOrdenesInsumos; let i = index">
                                                        <td align="center">
                                                            <span>{{l.sucursal.nombre}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{i + 1}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.usuario.nombre}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.proveedor.razonSocial}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.insumo.nombre}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.cantidad}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.precioUnitario}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.importe}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span class="cursor-color" (click)="verObservacionesDialogo(l.observaciones)">ver</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.anulado}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span class="cursor-color" (click)="verObservacionesDialogo(l.observacionesAnulado)">ver</span>
                                                        </td>
                                                        <td align="center">
                                                            <span class="cursor-color-rojo" (click)="eliminarOrdenInsumo(i, l)">X</span>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <br>
                                    <div class="row justify-content-end">
                                        <div class="col-md-2">
                                            <div class="form-group has-float-label-icon">
                                                <label for="idImporteTotalOI" class="tamanio-label">Importe Total *</label>
                                                <div class="input-group input-group-sm mb-3">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">$</span>
                                                    </div>
                                                    <input id="idImporteTotalOI" type="number" formControlName="importeTotal"
                                                        autocomplete="off" class="form-control form-control-sm"
                                                        [readonly]="true">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="contenedor-top" *ngIf="opcionSeleccionada == 26">

                            </div>
                            <div class="contenedor-top" *ngIf="opcionSeleccionada == 27">
                                <form [formGroup]="formularioViajeRemito">
                                    <div class="row">
                                        <div class="col-md-2">
                                            <div class="form-group has-float-label">
                                                <label for="idTipoRemitoRG" class="tamanio-label">Tipo de Remito *</label>
                                                <mat-select id="idTipoRemitoRG" class="form-control form-control-sm"
                                                    formControlName="tipoRemito">
                                                    <mat-option [value]="false">Pendientes</mat-option>
                                                    <mat-option [value]="true">Asignados</mat-option>
                                                </mat-select>
                                            </div>
                                        </div>
                                        <div class="col-md-5">
                                            <div class="form-group has-float-label">
                                                <label for="idTramoRG" class="tamanio-label">Tramo *</label>
                                                <mat-select id="idTramoRG" class="form-control form-control-sm"
                                                    formControlName="tramo" [compareWith]="compareFn">
                                                    <mat-option *ngFor="let itemTramo of listaTramos" [value]="itemTramo">
                                                        {{itemTramo.tramo.origen.nombre}},
                                                        {{itemTramo.tramo.origen.provincia.nombre}} ->
                                                        {{itemTramo.tramo.destino.nombre}},
                                                        {{itemTramo.tramo.destino.provincia.nombre}}
                                                        ({{itemTramo.tramo.km}}km)
                                                    </mat-option>
                                                </mat-select>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group has-float-label">
                                                <label for="idNumeroCamionRG" class="tamanio-label">Número de Camión *</label>
                                                <input id="idNumeroCamionRG" type="number" formControlName="numeroCamion"
                                                    autocomplete="off" class="form-control form-control-sm" [readonly]="soloLectura">
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group has-float-label">
                                                <label for="idSucursalRG" class="tamanio-label">Sucursal Destino *</label>
                                                <mat-select id="idSucursalRG" class="form-control form-control-sm"
                                                    formControlName="sucursalDestino" [compareWith]="compareFn">
                                                    <mat-option *ngFor="let itemSucursal of sucursales" [value]="itemSucursal">
                                                        {{itemSucursal.nombre}}
                                                    </mat-option>
                                                </mat-select>
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                            <button mat-raised-button color="primary" (click)="listarRemitosPorFiltro()">Buscar</button>
                                        </div>
                                    </div>
                                    <div formArrayName="remitos" class="row">
                                        <div class="col-md-12" style="height: 200px; overflow-y: scroll;">
                                            <table class="table table-bordered table-striped table-sm table-condensed tabla-viaje-efectivo">
                                                <thead>
                                                    <tr>
                                                        <th class="text-center" style="width:10%" scope="col">Fecha</th>
                                                        <th class="text-center" style="width:15%" scope="col">Tipo de
                                                            Comprobante</th>
                                                        <th class="text-center" style="width:15%" scope="col">Punto
                                                            Venta</th>
                                                        <th class="text-center" style="width:15%" scope="col">N° de
                                                            Comprobante</th>
                                                        <th class="text-center" style="width:20%" scope="col">Remitente</th>
                                                        <th class="text-center" style="width:20%" scope="col">Destinatario</th>
                                                        <th class="text-center" style="width:5%" scope="col">-</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let a of formularioViajeRemito.get('remitos').controls; let i = index"
                                                        [formGroupName]="i">
                                                        <td align="center">
                                                            <span>{{a.value.fecha | date: 'dd/MM/yyyy'}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{a.value.tipoComprobante.nombre}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{displayCeros(a.value.puntoVenta, '000', -4)}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{displayCeros(a.value.numero, '0000000', -8)}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{a.value.clienteRemitente.razonSocial}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{a.value.clienteDestinatario.razonSocial}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <mat-checkbox formControlName="estaPendiente" color="primary"></mat-checkbox>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="row justify-content-end">
                                        <button mat-raised-button color="primary" (click)="asignarRemitos()">Asignar/Quitar</button>
                                    </div>
                                </form>
                            </div>
                            <div class="contenedor-top" *ngIf="opcionSeleccionada == 28">
                                <form [formGroup]="formularioViajePropioGasto">
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group has-float-label-icon">
                                                <label for="idFechaG" class="tamanio-label">Fecha</label>
                                                <div class="input-group input-group-sm mb-3">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <mat-icon>date_range</mat-icon>
                                                        </span>
                                                    </div>
                                                    <input id="idFechaG" type="date" formControlName="fecha"
                                                        autocomplete="off" class="form-control form-control-sm"
                                                        [readonly]="soloLectura">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group has-float-label">
                                                <label for="idRubroProductoG" class="tamanio-label">Rubro</label>
                                                <input id="idRubroProductoG" class="form-control form-control-sm" type="text"
                                                    matInput [formControl]="formularioViajePropioGasto.get('rubroProducto')"
                                                    [matAutocomplete]="autoRubroProductoG" autocomplete="off"
                                                    [readonly]="soloLectura">
                                                <mat-autocomplete #autoRubroProductoG="matAutocomplete" [displayWith]="displayFb.bind(this)">
                                                    <mat-option *ngFor="let itemRubroProducto of resultadosRubrosProductos"
                                                        [value]="itemRubroProducto">
                                                        {{itemRubroProducto.nombre}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group has-float-label">
                                                <label for="idCantidadG" class="tamanio-label">Cantidad *</label>
                                                <input id="idCantidadG" type="number" formControlName="cantidad"
                                                    autocomplete="off" class="form-control form-control-sm" [readonly]="soloLectura">
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group has-float-label-icon">
                                                <label for="idPrecioUnitarioG" class="tamanio-label">Precio Unitario *</label>
                                                <div class="input-group input-group-sm mb-3">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">$</span>
                                                    </div>
                                                    <input id="idPrecioUnitarioG" type="number" formControlName="precioUnitario"
                                                        autocomplete="off" class="form-control form-control-sm"
                                                        [readonly]="soloLectura" (blur)="establecerCeros(formularioViajePropioGasto.get('precioUnitario'))">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group has-float-label-icon">
                                                <label for="idImporteG" class="tamanio-label">Importe *</label>
                                                <div class="input-group input-group-sm mb-3">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">$</span>
                                                    </div>
                                                    <input id="idImporteG" type="number" formControlName="importe"
                                                        autocomplete="off" class="form-control form-control-sm"
                                                        [readonly]="soloLectura" (blur)="establecerCeros(formularioViajePropioGasto.get('importe'))">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group has-float-label">
                                                <label for="idObservacionesG" class="tamanio-label">Observaciones</label>
                                                <textarea id="idObservacionesG" class="form-control form-control-sm"
                                                    formControlName="observaciones" rows="2" [readonly]="soloLectura"></textarea>
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                            <button mat-raised-button color="primary" (click)="agregarGasto()">Agregar
                                                Gasto</button>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12" style="height: 200px; overflow-y: scroll;">
                                            <table class="table table-bordered table-striped table-sm table-condensed tabla-viaje-efectivo">
                                                <thead>
                                                    <tr>
                                                        <th class="text-center" style="width:10%" scope="col">Fecha</th>
                                                        <th class="text-center" style="width:15%" scope="col">Rubro</th>
                                                        <th class="text-center" style="width:10%" scope="col">Cantidad</th>
                                                        <th class="text-center" style="width:15%" scope="col">Precio
                                                            Unitario</th>
                                                        <th class="text-center" style="width:10%" scope="col">Importe</th>
                                                        <th class="text-center" style="width:10%" scope="col">Observaciones</th>
                                                        <th class="text-center" style="width:10%" scope="col">Anulado</th>
                                                        <th class="text-center" style="width:15%" scope="col">Observaciones
                                                            Anulado</th>
                                                        <th class="text-center" style="width:5%" scope="col">-</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let l of listaGastos; let i = index">
                                                        <td align="center">
                                                            <span>{{l.fecha | date: 'dd/MM/yyyy'}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.rubroProducto.nombre}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.cantidad}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.precioUnitario}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.importe}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span class="cursor-color" (click)="verObservacionesDialogo(l.observaciones)">ver</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.anulado}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span class="cursor-color" (click)="verObservacionesDialogo(l.observacionesAnulado)">ver</span>
                                                        </td>
                                                        <td align="center">
                                                            <span class="cursor-color-rojo" (click)="eliminarGasto(i, l)">X</span>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <br>
                                    <div class="row justify-content-end">
                                        <div class="col-md-3">
                                            <div class="form-group has-float-label-icon">
                                                <label for="idImporteTotalG" class="tamanio-label">Importe Total *</label>
                                                <div class="input-group input-group-sm mb-3">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">$</span>
                                                    </div>
                                                    <input id="idImporteTotalG" type="number" formControlName="importeTotal"
                                                        autocomplete="off" class="form-control form-control-sm"
                                                        [readonly]="true">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="contenedor-top" *ngIf="opcionSeleccionada == 29">
                                <form [formGroup]="formularioViajePropioPeaje">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group has-float-label">
                                                <label for="idProveedorP" class="tamanio-label">Proveedor *</label>
                                                <input id="idProveedorP" class="form-control form-control-sm" type="text"
                                                    matInput [formControl]="formularioViajePropioPeaje.get('proveedor')"
                                                    [matAutocomplete]="autoProveedorP" autocomplete="off" [readonly]="soloLectura">
                                                <mat-autocomplete #autoProveedorP="matAutocomplete" [displayWith]="displayF.bind(this)">
                                                    <mat-option *ngFor="let itemProveedor of resultadosProveedores"
                                                        [value]="itemProveedor">
                                                        {{itemProveedor.alias}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group has-float-label-icon">
                                                <label for="idFechaP" class="tamanio-label">Fecha</label>
                                                <div class="input-group input-group-sm mb-3">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <mat-icon>date_range</mat-icon>
                                                        </span>
                                                    </div>
                                                    <input id="idFechaP" type="date" formControlName="fecha"
                                                        autocomplete="off" class="form-control form-control-sm"
                                                        [readonly]="soloLectura">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group has-float-label">
                                                <label for="idPuntoVentaG" class="tamanio-label">Punto de Venta *</label>
                                                <input id="idPuntoVentaG" type="number" formControlName="puntoVenta"
                                                    autocomplete="off" class="form-control form-control-sm" [readonly]="soloLectura"
                                                    (blur)="establecerCerosIzq(formularioViajePropioPeaje.get('puntoVenta'), '000', -4)">
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group has-float-label">
                                                <label for="idLetraG" class="tamanio-label">Letra *</label>
                                                <input id="idLetraG" type="text" formControlName="letra" autocomplete="off"
                                                    class="form-control form-control-sm" [readonly]="soloLectura">
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group has-float-label">
                                                <label for="idNumeroComprobanteG" class="tamanio-label">Número de Tique
                                                    *</label>
                                                <input id="idNumeroComprobanteG" type="number" formControlName="numeroComprobante"
                                                    autocomplete="off" class="form-control form-control-sm" [readonly]="soloLectura"
                                                    (blur)="establecerCerosIzq(formularioViajePropioPeaje.get('numeroComprobante'), '0000000', -8)">
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group has-float-label-icon">
                                                <label for="idImporteG" class="tamanio-label">Importe *</label>
                                                <div class="input-group input-group-sm mb-3">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">$</span>
                                                    </div>
                                                    <input id="idImporteG" type="number" formControlName="importe"
                                                        autocomplete="off" class="form-control form-control-sm"
                                                        [readonly]="soloLectura" (blur)="establecerCeros(formularioViajePropioPeaje.get('importe'))">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <button mat-raised-button color="primary" (click)="agregarPeaje()">Agregar
                                                Peaje</button>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12" style="height: 200px; overflow-y: scroll;">
                                            <table class="table table-bordered table-striped table-sm table-condensed tabla-viaje-peaje">
                                                <thead>
                                                    <tr>
                                                        <th class="text-center" style="width:10%" scope="col">Fecha</th>
                                                        <th class="text-center" style="width:15%" scope="col">Proveedor</th>
                                                        <th class="text-center" style="width:10%" scope="col">Punto de
                                                            Venta</th>
                                                        <th class="text-center" style="width:15%" scope="col">Número de
                                                            Tique</th>
                                                        <th class="text-center" style="width:10%" scope="col">Importe($)</th>
                                                        <th class="text-center" style="width:5%" scope="col">-</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let l of listaPeajes; let i = index">
                                                        <td align="center">
                                                            <span>{{l.fecha | date: 'dd/MM/yyyy'}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.proveedor.razonSocial}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.puntoVenta}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.numeroComprobante}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span>{{l.importe}}</span>
                                                        </td>
                                                        <td align="center">
                                                            <span class="cursor-color-rojo" (click)="eliminarPeaje(i, l)">X</span>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <br>
                                    <div class="row justify-content-end">
                                        <div class="col-md-3">
                                            <div class="form-group has-float-label-icon">
                                                <label for="idImporteTotalP" class="tamanio-label">Importe Total *</label>
                                                <div class="input-group input-group-sm mb-3">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">$</span>
                                                    </div>
                                                    <input id="idImporteTotalP" type="number" formControlName="importeTotal"
                                                        autocomplete="off" class="form-control form-control-sm"
                                                        [readonly]="true">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </mat-sidenav-content>
        </mat-sidenav-container>
    </div>
    <div class="row justify-content-center" *ngIf="indiceSeleccionado == 5">
        <div class="col-md-12">
            <table class="table table-bordered table-striped table-sm">
                <thead>
                    <tr>
                        <th class="text-center" style="width:5%" scope="col">id</th>
                        <th class="text-center" style="width:15%" scope="col">Razon Social</th>
                        <th class="text-center" style="width:15%" scope="col">Tipo Documento</th>
                        <th class="text-center" style="width:15%" scope="col">N Documento</th>
                        <th class="text-center" style="width:10%" scope="col">Telefono</th>
                        <th class="text-center" style="width:15%" scope="col">Domicilio</th>
                        <th class="text-center" style="width:15%" scope="col">Localidad</th>
                        <th class="text-center" style="width:5%" scope="col">-</th>
                        <th class="text-center" style="width:5%" scope="col">-</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let l of listaCompleta">
                        <td align="center">
                            <span>{{l.id}}</span>
                        </td>
                        <td align="center">
                            <span>{{l.razonSocial}}</span>
                        </td>
                        <td align="center">
                            <span>{{l.tipoDocumento.nombre}}</span>
                        </td>
                        <td align="center">
                            <span>{{l.numeroDocumento}}</span>
                        </td>
                        <td align="center">
                            <span>{{l.telefono}}</span>
                        </td>
                        <td align="center">
                            <span>{{l.domicilio}}</span>
                        </td>
                        <td align="center">
                            <span>{{l.localidad.nombre}}, {{l.localidad.provincia.nombre}}</span>
                        </td>
                        <td align="center">
                            <span class="cursor-color" (click)="activarConsultar(l)">Ver</span>
                        </td>
                        <td align="center">
                            <span class="cursor-color" (click)="activarActualizar(l)">Mod</span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>