<div id="repartoentrante" class="row justify-content-center container-fluid">
  <div class="col-md-10">
    <form [formGroup]="formulario">
      <h5 class="text-center">Reparto Entrante</h5>
      <div class="row">
        <div class="col-md-3">
          <div class="form-group has-float-label">
            <label for="idTipoViaje" class="tamanio-label">Tipo de Viaje *</label>
            <mat-select id="idTipoViaje" class="form-control form-control-sm" [formControl]="tipoViaje"
              (selectionChange)="cambioTipoViaje()">
              <mat-option [value]="true">Propio</mat-option>
              <mat-option [value]="false">Tercero</mat-option>
            </mat-select>
          </div>
        </div>
      </div>
      <br>
      <div class="row">
        <div class="tabla">
          <div class="tabla-ancho">
            <table mat-table [dataSource]="listaCompleta" matSort class="mat-elevation-z1">
              <ng-container matColumnDef="numeroReparto">
                <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 5px;">N° Reparto
                </th>
                <td mat-cell *matCellDef="let elemento; let i=index" class="number-right">
                  {{elemento.id}}</td>
              </ng-container>
              <ng-container matColumnDef="fechaRegistracion">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha Registracion</th>
                <td mat-cell *matCellDef="let elemento">
                  {{elemento.fechaRegistracion | date: 'dd-MM-yyyy'}}
                </td>
              </ng-container>
              <ng-container matColumnDef="zona">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Zona</th>
                <td mat-cell *matCellDef="let elemento">{{elemento.zona.nombre}}</td>
              </ng-container>
              <ng-container matColumnDef="vehiculo">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Vehículo</th>
                <td mat-cell *matCellDef="let elemento">
                  <span>{{elemento.vehiculo!=null ? elemento.vehiculo.alias: elemento.vehiculoProveedor.alias}}</span>
                </td>
              </ng-container>
              <ng-container matColumnDef="chofer">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Chofer</th>
                <td mat-cell *matCellDef="let elemento">
                  <span>{{elemento.personal!=null? elemento.personal.alias: elemento.choferProveedor.alias}}</span>
                </td>
              </ng-container>
              <ng-container matColumnDef="fechaSalida">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha Salida</th>
                <td mat-cell *matCellDef="let elemento">{{elemento.fechaSalida | date: 'dd/MM/yyyy'}}</td>
              </ng-container>
              <ng-container matColumnDef="horaSalida">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Hora Salida</th>
                <td mat-cell *matCellDef="let elemento">{{elemento.horaSalida}} {{elemento.horaSalida? 'hs.' : ''}}</td>
              </ng-container>
              <ng-container matColumnDef="fechaRegreso">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha Regreso</th>
                <td mat-cell *matCellDef="let elemento">{{elemento.fechaRegreso | date: 'dd/MM/yyyy'}}</td>
              </ng-container>
              <ng-container matColumnDef="horaRegreso">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Hora Regreso</th>
                <td mat-cell *matCellDef="let elemento">{{elemento.horaRegreso}} {{elemento.horaRegreso? 'hs.' : ''}}</td>
              </ng-container>
              <ng-container matColumnDef="ordenesCombustibles">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Ordenes Combustibles</th>
                <td mat-cell *matCellDef="let elemento" class="text-center">
                  <span class="cursor-color" (click)="abrirOrdenesCombustibles(elemento)">
                    <i class="material-icons">
                      local_gas_station
                    </i>
                  </span>
                </td>
              </ng-container>
              <ng-container matColumnDef="adelantosEfectivos">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Adelantos Efectivo</th>
                <td mat-cell *matCellDef="let elemento" class="text-center">
                  <span class="cursor-color" (click)="abrirAdelantosEfectivo(elemento)">
                    <i class="material-icons">
                      attach_money
                    </i>
                  </span>
                </td>
              </ng-container>
              <ng-container matColumnDef="entrar" sticky>
                <th mat-header-cell *matHeaderCellDef>-</th>
                <td mat-cell *matCellDef="let elemento; let i=index">
                  <span class="cursor-color" (click)="abrirRecibirReparto(elemento)">
                    <i class="material-icons">
                      input
                    </i>
                  </span>
                </td>
              </ng-container>
              <ng-container matColumnDef="descargar" sticky>
                <th mat-header-cell *matHeaderCellDef>-</th>
                <td mat-cell *matCellDef="let elemento; let i=index">
                  <span class="cursor-color" (click)="abrirComprobantes(elemento)">
                    <i class="material-icons">
                      system_update_alt
                    </i>
                  </span>
                </td>
              </ng-container>
              <tr mat-header-row *matHeaderRowDef="columnas"></tr>
              <tr mat-row *matRowDef="let row; columns: columnas;"></tr>
            </table>
          </div>
        </div>
      </div>
      <div class="row" *ngIf="show">
        <div class="col text-center">
          <mat-progress-bar mode="indeterminate"></mat-progress-bar>
        </div>
      </div>
    </form>
  </div>
</div>